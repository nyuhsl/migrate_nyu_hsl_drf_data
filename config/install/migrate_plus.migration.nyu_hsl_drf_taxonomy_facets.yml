id: nyu_hsl_drf_taxonomy_facets
label: Migrate NYU HSL Data Repository Finder Facets Taxonomy
status: true

migration_group: nyu_hsl_drf_data_migrations
source:
  delimiter: ','
  header_row_count: 1
  path: modules/custom/migrate_nyu_hsl_drf_data/source/taxonomy_facets.csv

  # Each migration needs a unique key per row in the csv.  Here we're using the tid.
  ids:
    - tid

  constants:
    # Everything gets created as admin
    uid: 1

process:
  # Set these properties from constants.
  uid: constants/uid
  name: name
  field_control_type:
    plugin: entity_lookup
    source: control_type
    value_key: name
    bundle_key: vid
    bundle: control_type
    entity_type: taxonomy_term
    ignore_case: true

destination:
  plugin: 'entity:taxonomy_term'
  default_bundle: facets

migration_dependencies:
  required:
    - nyu_hsl_drf_taxonomy_control_types
  optional: { }
